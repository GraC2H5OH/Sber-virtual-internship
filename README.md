# Прогнозирование объема стабильных средств клиентов без сроков погашения(расчетные счета клиентов)(Виртуальная стажировка Сбер).
## Постановка задачи
Построить модель прогнозирования стабильного остатка средств на расчетных счетах клиентов
## Мотивация/зачем мы это делаем
Номинально, все средства на расчетных счетах клиенты могут в любой момент забрать из Банка, а в ожидании этого Банк не может их использовать в долгосрочном / среднесрочном плане (например, для выдачи кредитов). Получается, что в такой ситуации Банк ничего не зарабатывает, но платит клиентам проценты по средствам на их счетах, пусть и не высокие, но в масштабах бизнеса Банка эти убытки могут быть значительны.

Но в реальности поведение клиентов другое, оно зависит от многих факторов (поведенческих, макроэкономических, действий конкурентов и т.д.). Клиенты не забирают сразу все свои средства с расчетных счетов, а какое-то время их там хранят, поэтому суммарно по всем клиентам на их расчетных счетах всегда находится какой-то объем средств, который хоть и меняется со временем, но может быть расценен Банком как стабильный и использован для выдачи кредитов (а Банк на этом зарабатывает).
## Доступные данные
В файле data.csv представлены подневные данные объема расчетных счетов физических лиц
## Что было сделано
Я воспользовался библиотекой etna для анализа и прогнозирования временных рядов. Сначала я воспользовался графиком автокорреляции, чтобы посмотреть на то, какой тренд/сезонность у нас присутствует, потом я посмотрел на несколько функций(линейная или кусочно-линейная) и на то, как они моделируют наш тренд(обе не очень, но кусочно-линейная справилась лучше, поэтому я оставил ее). Метрику я выбрал SMAPE, в качестве модели я использовал CatBoostModelPerSegment т.к. у нас всего 1 сегмент и сама модель показывает хорошее качество. В качестве фичей у нас: номер дня в месяце, номер дня недели, является ли день выходным/специальным днем, члены Фурье, является ли день праздничным днем в России, информация о временном ряде год, год+1, .... ,год+7 дней назад, среднее значение за 104 дня.
## Что получили
SMAPE = 5.45, я думаю это вполне неплохо как для первого опыта во временных рядах.
